<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>torukagi - BRAIN JUICE MODE</title>
<style>
body { margin:0; overflow:hidden; background:#000511; font-family:Consolas, monospace; color:white; }
.bg-container {
    position:fixed; top:-10%; left:-10%; width:120%; height:120%;
    background:#000511 url('sky.png') no-repeat center center;
    background-size:cover; z-index:-1; transition:transform .1s ease-out;
}
#flash { position:fixed; inset:0; background:white; opacity:0; pointer-events:none; z-index:50; }
canvas { position:fixed; inset:0; z-index:10; pointer-events:none; }

.sns-container { position:fixed; top:20px; left:20px; z-index:100; display:flex; flex-direction:column; gap:10px; }
.sns-link {
    display:flex; align-items:center; gap:8px; color:white;
    border:1px solid white; padding:10px 20px; text-decoration:none;
    border-radius:30px; background:rgba(0,0,0,.6); backdrop-filter:blur(5px);
    transition:.3s;
}
.sns-link:hover { background:rgba(255,255,255,.2); transform:translateX(5px); }

.ui { position:fixed; bottom:30px; left:30px; z-index:100; }
.btn { cursor:pointer; padding:10px 20px; border:1px solid white; background:rgba(0,0,0,.6); border-radius:5px; }
#clock { font-size:36px; font-weight:bold; text-shadow:0 0 10px #00f2ff; margin-top:10px; }

.jackpot {
    position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
    font-size:120px; font-weight:bold; letter-spacing:20px;
    color:gold; text-shadow:0 0 20px red, 0 0 40px yellow;
    opacity:0; pointer-events:none; z-index:60;
    transition:opacity .2s;
}
</style>
</head>
<body>

<div class="bg-container" id="bg"></div>
<div id="flash"></div>
<canvas id="cvs"></canvas>
<div class="jackpot" id="jackpot">大当たり</div>

<div class="sns-container">
    <a href="https://x.com/bakakagi" target="_blank" class="sns-link">X (Twitter)</a>
    <a href="https://www.youtube.com/@ayato-torukagi9W" target="_blank" class="sns-link">YouTube</a>
</div>

<div class="ui">
    <div id="mute-btn" class="btn">SOUND: ON</div>
    <div id="clock"></div>
</div>

<script>
const bg = document.getElementById('bg');
const flash = document.getElementById('flash');
const cvs = document.getElementById('cvs');
const ctx = cvs.getContext('2d');
const clockEl = document.getElementById('clock');
const muteBtn = document.getElementById('mute-btn');
const jackpot = document.getElementById('jackpot');

let w,h,particles=[],stars=[],isMuted=false;
const hype = new Audio('hype.mp3');
hype.loop = true;
hype.volume = 0.5;

function resize(){ w=cvs.width=innerWidth; h=cvs.height=innerHeight; }
addEventListener('resize', resize); resize();

function updateClock(){
    clockEl.textContent = new Date().toLocaleTimeString('ja-JP',{hour12:false});
}
setInterval(updateClock,1000); updateClock();

muteBtn.onclick=()=>{
    isMuted=!isMuted;
    hype.volume=isMuted?0:0.5;
    muteBtn.textContent=isMuted?"SOUND: OFF":"SOUND: ON";
};

addEventListener("click",()=>{ hype.play().catch(()=>{}); },{once:true});

class Particle{
    constructor(){this.init();}
    init(){
        this.x=Math.random()*w; this.y=Math.random()*h;
        this.vx=(Math.random()-0.5)*8; this.vy=(Math.random()-0.5)*8;
        this.life=Math.random()*60+30;
        this.size=Math.random()*3+1;
        this.hue=Math.random()*360;
    }
    update(){ this.x+=this.vx; this.y+=this.vy; if(--this.life<=0) this.init(); }
    draw(){
        ctx.beginPath();
        ctx.fillStyle=`hsla(${this.hue},100%,60%,.8)`;
        ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
        ctx.fill();
    }
}

class Laser{
    constructor(){ this.init(); }
    init(){
        this.x=Math.random()*w;
        this.y=Math.random()*h*0.5;
        this.len=Math.random()*100+50;
        this.speed=Math.random()*15+20;
        this.life=60;
        this.hue=Math.random()*360;
    }
    update(){ this.x-=this.speed; this.y+=this.speed*0.4; if(--this.life<=0) this.init(); }
    draw(){
        const g=ctx.createLinearGradient(this.x,this.y,this.x+this.len,this.y-this.len*0.4);
        g.addColorStop(0,`hsla(${this.hue},100%,70%,1)`);
        g.addColorStop(1,"rgba(255,255,255,0)");
        ctx.strokeStyle=g; ctx.lineWidth=3;
        ctx.beginPath(); ctx.moveTo(this.x,this.y);
        ctx.lineTo(this.x+this.len,this.y-this.len*0.4);
        ctx.stroke();
    }
}

for(let i=0;i<300;i++) particles.push(new Particle());
for(let i=0;i<3;i++) stars.push(new Laser());

function animate(){
    ctx.clearRect(0,0,w,h);

    particles.forEach(p=>{p.update();p.draw();});
    stars.forEach(s=>{s.update();s.draw();});

    if(Math.random()>0.96){
        flash.style.background=`hsl(${Math.random()*360},100%,70%)`;
        flash.style.opacity=0.6;
        setTimeout(()=>flash.style.opacity=0,80);
    }

    if(Math.random()>0.995){
        jackpot.style.opacity=1;
        setTimeout(()=>jackpot.style.opacity=0,300);
    }

    const pulse=Math.sin(Date.now()*0.005)*5;
    bg.style.filter=`brightness(${1+pulse*0.02}) saturate(1.5)`;

    requestAnimationFrame(animate);
}
animate();

document.addEventListener('mousemove',e=>{
    const x=(w/2-e.clientX)/30;
    const y=(h/2-e.clientY)/30;
    bg.style.transform=`translate(${x}px,${y}px)`;
});
</script>
</body>
</html>
